{"version":3,"file":"ais-instant-search.js","sources":["../../src/components/ais-instant-search.gjs"],"sourcesContent":["import { template } from \"@ember/template-compiler\";\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport instantsearch from 'instantsearch.js';\nimport { hash } from '@ember/helper';\nimport { inject as service } from '@ember/service';\nimport { configure } from 'instantsearch.js/es/widgets';\nimport TypesenseInstantSearchAdapter from 'typesense-instantsearch-adapter';\nexport default class AisInstantSearch extends Component {\n    @service\n    aisInstantSearch;\n    @tracked\n    searchClient = null;\n    @tracked\n    instantSearchInstance = null;\n    @tracked\n    searchBoxElement = null;\n    @tracked\n    hitsElement = null;\n    constructor(){\n        super(...arguments);\n        if (!this.args.apiData.apiKey) {\n            console.error('The Typesense API key is missing. Please provide the API key');\n            return;\n        }\n        if (!this.args.apiData.port) {\n            console.error('Port is missing. Please provide the port number for the Typesense server');\n            return;\n        }\n        if (!this.args.apiData.host) {\n            console.error('Host is missing. Please provide the host for the Typesense server');\n            return;\n        }\n        if (!this.args.apiData.protocol) {\n            console.error('Protocol is missing (http/https). Please provide the protocol for the Typesense server');\n            return;\n        }\n        if (!this.args.apiData.indexName) {\n            console.error('Index name is missing. Please provide the index name for the Typesense server');\n            return;\n        }\n        if (!this.args.apiData.queryBy) {\n            console.error('queryBy is missing. Please provide the queryBy field(s) for the Typesense server');\n            return;\n        }\n        this.searchClient = this.createSearchClient();\n        if (!this.searchClient) {\n            return;\n        }\n        this.instantSearchInstance = instantsearch({\n            indexName: this.args.apiData.indexName,\n            searchClient: this.searchClient,\n            numberLocale: this.args.numberLocale,\n            searchFunction: this.args.searchFunction,\n            initialUiState: this.args.initialUiState,\n            onStateChange: this.args.onStateChange,\n            stalledSearchDelay: this.args.stalledSearchDelay,\n            routing: this.args.routing,\n            insights: this.args.insights,\n            insightsClient: this.args.insightsClient,\n            future: {\n                preserveSharedStateOnUnmount: this.args.preserveSharedStateOnUnmount || true,\n                persistHierarchicalRootCount: this.args.persistHierarchicalRootCount\n            }\n        });\n        if (this.args.configurationOptions) {\n            // See https://www.algolia.com/doc/api-reference/search-api-parameters/\n            // for available search API configuration options\n            this.instantSearchInstance.addWidgets([\n                configure(this.args.configurationOptions)\n            ]);\n        }\n        this.applyMiddleware();\n    }\n    createSearchClient() {\n        try {\n            // const searchClient = algoliasearch(this.args.appId, this.args.apiKey);\n            const typesenseInstantsearchAdapter1 = new TypesenseInstantSearchAdapter({\n                server: {\n                    apiKey: this.args.apiData.apiKey,\n                    nodes: [\n                        {\n                            host: this.args.apiData.host,\n                            port: this.args.apiData.port,\n                            protocol: this.args.apiData.protocol,\n                            ...(this.args.apiData.path ? {\n                                path: this.args.apiData.path\n                            } : {})\n                        }\n                    ]\n                },\n                additionalSearchParameters: {\n                    query_by: this.args.apiData.queryBy\n                },\n                collectionSpecificSearchParameters: this.args.collectionSpecificSearchParameters\n            });\n            const searchClient1 = typesenseInstantsearchAdapter1.searchClient;\n            if (!searchClient1) {\n                throw new Error('Failed to create searchClient');\n            }\n            return searchClient1;\n        } catch (error1) {\n            console.error(error1, 'Error creating search client');\n        }\n    }\n    // See: https://www.algolia.com/doc/api-reference/widgets/middleware/js/\n    // Middleware is a function that returns an array of middleware functions.\n    applyMiddleware() {\n        if (!this.instantSearchInstance) {\n            console.error('InstantSearch instance not initialized. Middleware cannot be applied.');\n            return;\n        }\n        if (!this.args.middleware) {\n            return;\n        }\n        if (!Array.isArray(this.args.middleware)) {\n            console.error('Invalid middleware provided. Please provide an array of functions.');\n            return;\n        }\n        this.args.middleware.forEach((middlewareFunction1)=>{\n            if (typeof middlewareFunction1 !== 'function') {\n                console.error('Invalid middleware provided. Each middleware should be a function.');\n                return;\n            }\n            this.instantSearchInstance.use(middlewareFunction1);\n        });\n    }\n    static{\n        template(`\n    {{yield (hash searchInstance=this.instantSearchInstance)}}\n  `, {\n            component: this,\n            eval () {\n                return eval(arguments[0]);\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2VtYmVyLWluc3RhbnRzZWFyY2gvZW1iZXItaW5zdGFudHNlYXJjaC9lbWJlci1pbnN0YW50c2VhcmNoL3NyYy9jb21wb25lbnRzL2Fpcy1pbnN0YW50LXNlYXJjaC5nanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCBmcm9tICdAZ2xpbW1lci9jb21wb25lbnQnO1xuaW1wb3J0IHsgdHJhY2tlZCB9IGZyb20gJ0BnbGltbWVyL3RyYWNraW5nJztcbmltcG9ydCBpbnN0YW50c2VhcmNoIGZyb20gJ2luc3RhbnRzZWFyY2guanMnO1xuaW1wb3J0IHsgaGFzaCB9IGZyb20gJ0BlbWJlci9oZWxwZXInO1xuaW1wb3J0IHsgaW5qZWN0IGFzIHNlcnZpY2UgfSBmcm9tICdAZW1iZXIvc2VydmljZSc7XG5pbXBvcnQgeyBjb25maWd1cmUgfSBmcm9tICdpbnN0YW50c2VhcmNoLmpzL2VzL3dpZGdldHMnO1xuaW1wb3J0IFR5cGVzZW5zZUluc3RhbnRTZWFyY2hBZGFwdGVyIGZyb20gJ3R5cGVzZW5zZS1pbnN0YW50c2VhcmNoLWFkYXB0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBaXNJbnN0YW50U2VhcmNoIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgQHNlcnZpY2UgYWlzSW5zdGFudFNlYXJjaDtcbiAgQHRyYWNrZWQgc2VhcmNoQ2xpZW50ID0gbnVsbDtcbiAgQHRyYWNrZWQgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gbnVsbDtcblxuICBAdHJhY2tlZCBzZWFyY2hCb3hFbGVtZW50ID0gbnVsbDtcbiAgQHRyYWNrZWQgaGl0c0VsZW1lbnQgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG5cbiAgICBpZiAoIXRoaXMuYXJncy5hcGlEYXRhLmFwaUtleSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1RoZSBUeXBlc2Vuc2UgQVBJIGtleSBpcyBtaXNzaW5nLiBQbGVhc2UgcHJvdmlkZSB0aGUgQVBJIGtleScsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hcmdzLmFwaURhdGEucG9ydCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1BvcnQgaXMgbWlzc2luZy4gUGxlYXNlIHByb3ZpZGUgdGhlIHBvcnQgbnVtYmVyIGZvciB0aGUgVHlwZXNlbnNlIHNlcnZlcicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hcmdzLmFwaURhdGEuaG9zdCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0hvc3QgaXMgbWlzc2luZy4gUGxlYXNlIHByb3ZpZGUgdGhlIGhvc3QgZm9yIHRoZSBUeXBlc2Vuc2Ugc2VydmVyJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFyZ3MuYXBpRGF0YS5wcm90b2NvbCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1Byb3RvY29sIGlzIG1pc3NpbmcgKGh0dHAvaHR0cHMpLiBQbGVhc2UgcHJvdmlkZSB0aGUgcHJvdG9jb2wgZm9yIHRoZSBUeXBlc2Vuc2Ugc2VydmVyJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFyZ3MuYXBpRGF0YS5pbmRleE5hbWUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdJbmRleCBuYW1lIGlzIG1pc3NpbmcuIFBsZWFzZSBwcm92aWRlIHRoZSBpbmRleCBuYW1lIGZvciB0aGUgVHlwZXNlbnNlIHNlcnZlcicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hcmdzLmFwaURhdGEucXVlcnlCeSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ3F1ZXJ5QnkgaXMgbWlzc2luZy4gUGxlYXNlIHByb3ZpZGUgdGhlIHF1ZXJ5QnkgZmllbGQocykgZm9yIHRoZSBUeXBlc2Vuc2Ugc2VydmVyJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZWFyY2hDbGllbnQgPSB0aGlzLmNyZWF0ZVNlYXJjaENsaWVudCgpO1xuXG4gICAgaWYgKCF0aGlzLnNlYXJjaENsaWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaW5zdGFudFNlYXJjaEluc3RhbmNlID0gaW5zdGFudHNlYXJjaCh7XG4gICAgICBpbmRleE5hbWU6IHRoaXMuYXJncy5hcGlEYXRhLmluZGV4TmFtZSxcbiAgICAgIHNlYXJjaENsaWVudDogdGhpcy5zZWFyY2hDbGllbnQsXG4gICAgICBudW1iZXJMb2NhbGU6IHRoaXMuYXJncy5udW1iZXJMb2NhbGUsXG4gICAgICBzZWFyY2hGdW5jdGlvbjogdGhpcy5hcmdzLnNlYXJjaEZ1bmN0aW9uLFxuICAgICAgaW5pdGlhbFVpU3RhdGU6IHRoaXMuYXJncy5pbml0aWFsVWlTdGF0ZSxcbiAgICAgIG9uU3RhdGVDaGFuZ2U6IHRoaXMuYXJncy5vblN0YXRlQ2hhbmdlLFxuICAgICAgc3RhbGxlZFNlYXJjaERlbGF5OiB0aGlzLmFyZ3Muc3RhbGxlZFNlYXJjaERlbGF5LFxuICAgICAgcm91dGluZzogdGhpcy5hcmdzLnJvdXRpbmcsXG4gICAgICBpbnNpZ2h0czogdGhpcy5hcmdzLmluc2lnaHRzLFxuICAgICAgaW5zaWdodHNDbGllbnQ6IHRoaXMuYXJncy5pbnNpZ2h0c0NsaWVudCxcbiAgICAgIGZ1dHVyZToge1xuICAgICAgICBwcmVzZXJ2ZVNoYXJlZFN0YXRlT25Vbm1vdW50OlxuICAgICAgICAgIHRoaXMuYXJncy5wcmVzZXJ2ZVNoYXJlZFN0YXRlT25Vbm1vdW50IHx8IHRydWUsXG4gICAgICAgIHBlcnNpc3RIaWVyYXJjaGljYWxSb290Q291bnQ6IHRoaXMuYXJncy5wZXJzaXN0SGllcmFyY2hpY2FsUm9vdENvdW50LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmFyZ3MuY29uZmlndXJhdGlvbk9wdGlvbnMpIHtcbiAgICAgIC8vIFNlZSBodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvYXBpLXJlZmVyZW5jZS9zZWFyY2gtYXBpLXBhcmFtZXRlcnMvXG4gICAgICAvLyBmb3IgYXZhaWxhYmxlIHNlYXJjaCBBUEkgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAgICB0aGlzLmluc3RhbnRTZWFyY2hJbnN0YW5jZS5hZGRXaWRnZXRzKFtcbiAgICAgICAgY29uZmlndXJlKHRoaXMuYXJncy5jb25maWd1cmF0aW9uT3B0aW9ucyksXG4gICAgICBdKTtcbiAgICB9XG5cbiAgICB0aGlzLmFwcGx5TWlkZGxld2FyZSgpO1xuICB9XG5cbiAgY3JlYXRlU2VhcmNoQ2xpZW50KCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBjb25zdCBzZWFyY2hDbGllbnQgPSBhbGdvbGlhc2VhcmNoKHRoaXMuYXJncy5hcHBJZCwgdGhpcy5hcmdzLmFwaUtleSk7XG4gICAgICBjb25zdCB0eXBlc2Vuc2VJbnN0YW50c2VhcmNoQWRhcHRlciA9IG5ldyBUeXBlc2Vuc2VJbnN0YW50U2VhcmNoQWRhcHRlcih7XG4gICAgICAgIHNlcnZlcjoge1xuICAgICAgICAgIGFwaUtleTogdGhpcy5hcmdzLmFwaURhdGEuYXBpS2V5LFxuICAgICAgICAgIG5vZGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhvc3Q6IHRoaXMuYXJncy5hcGlEYXRhLmhvc3QsXG4gICAgICAgICAgICAgIHBvcnQ6IHRoaXMuYXJncy5hcGlEYXRhLnBvcnQsXG4gICAgICAgICAgICAgIHByb3RvY29sOiB0aGlzLmFyZ3MuYXBpRGF0YS5wcm90b2NvbCxcbiAgICAgICAgICAgICAgLi4uKHRoaXMuYXJncy5hcGlEYXRhLnBhdGhcbiAgICAgICAgICAgICAgICA_IHsgcGF0aDogdGhpcy5hcmdzLmFwaURhdGEucGF0aCB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIGFkZGl0aW9uYWxTZWFyY2hQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgcXVlcnlfYnk6IHRoaXMuYXJncy5hcGlEYXRhLnF1ZXJ5QnksXG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3Rpb25TcGVjaWZpY1NlYXJjaFBhcmFtZXRlcnM6XG4gICAgICAgICAgdGhpcy5hcmdzLmNvbGxlY3Rpb25TcGVjaWZpY1NlYXJjaFBhcmFtZXRlcnMsXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2VhcmNoQ2xpZW50ID0gdHlwZXNlbnNlSW5zdGFudHNlYXJjaEFkYXB0ZXIuc2VhcmNoQ2xpZW50O1xuXG4gICAgICBpZiAoIXNlYXJjaENsaWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2VhcmNoQ2xpZW50Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VhcmNoQ2xpZW50O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yLCAnRXJyb3IgY3JlYXRpbmcgc2VhcmNoIGNsaWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNlZTogaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2FwaS1yZWZlcmVuY2Uvd2lkZ2V0cy9taWRkbGV3YXJlL2pzL1xuICAvLyBNaWRkbGV3YXJlIGlzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGFycmF5IG9mIG1pZGRsZXdhcmUgZnVuY3Rpb25zLlxuICBhcHBseU1pZGRsZXdhcmUoKSB7XG4gICAgaWYgKCF0aGlzLmluc3RhbnRTZWFyY2hJbnN0YW5jZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0luc3RhbnRTZWFyY2ggaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkLiBNaWRkbGV3YXJlIGNhbm5vdCBiZSBhcHBsaWVkLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hcmdzLm1pZGRsZXdhcmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5hcmdzLm1pZGRsZXdhcmUpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnSW52YWxpZCBtaWRkbGV3YXJlIHByb3ZpZGVkLiBQbGVhc2UgcHJvdmlkZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMuJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hcmdzLm1pZGRsZXdhcmUuZm9yRWFjaCgobWlkZGxld2FyZUZ1bmN0aW9uKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG1pZGRsZXdhcmVGdW5jdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdJbnZhbGlkIG1pZGRsZXdhcmUgcHJvdmlkZWQuIEVhY2ggbWlkZGxld2FyZSBzaG91bGQgYmUgYSBmdW5jdGlvbi4nLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5zdGFudFNlYXJjaEluc3RhbmNlLnVzZShtaWRkbGV3YXJlRnVuY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgPHRlbXBsYXRlPlxuICAgIHt7eWllbGQgKGhhc2ggc2VhcmNoSW5zdGFuY2U9dGhpcy5pbnN0YW50U2VhcmNoSW5zdGFuY2UpfX1cbiAgPC90ZW1wbGF0ZT5cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxlQUFlLHFCQUFxQjtBQUMzQyxTQUFTLE9BQU8sUUFBUSxvQkFBb0I7QUFDNUMsT0FBTyxtQkFBbUIsbUJBQW1CO0FBQzdDLFNBQVMsSUFBSSxRQUFRLGdCQUFnQjtBQUNyQyxTQUFTLFVBQVUsT0FBTyxRQUFRLGlCQUFp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"],"names":["AisInstantSearch","Component","g","this","prototype","service","i","void 0","tracked","constructor","arguments","args","apiData","apiKey","console","error","port","host","protocol","indexName","queryBy","searchClient","createSearchClient","instantSearchInstance","instantsearch","numberLocale","searchFunction","initialUiState","onStateChange","stalledSearchDelay","routing","insights","insightsClient","future","preserveSharedStateOnUnmount","persistHierarchicalRootCount","configurationOptions","addWidgets","configure","applyMiddleware","typesenseInstantsearchAdapter1","TypesenseInstantSearchAdapter","server","nodes","path","additionalSearchParameters","query_by","collectionSpecificSearchParameters","searchClient1","Error","error1","middleware","Array","isArray","forEach","middlewareFunction1","use","setComponentTemplate","precompileTemplate","strictMode","scope","hash"],"mappings":"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"}